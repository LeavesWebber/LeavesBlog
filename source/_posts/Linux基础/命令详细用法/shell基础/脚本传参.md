---
categories:
  - Linux基础
  - 命令详细用法
  - shell基础
title: bash脚本传参
tags:
  - 运维
  - linux
  - bash
date:
updated:
---

> 在 Bash 脚本中，`$#`、`$0`、`$1` 和 `$2` 是特殊的变量，它们代表了脚本中传递的参数信息。

# `$#`

- `$#` 表示传递给脚本的**参数个数**。例如，如果你的脚本名为 `script.sh`，并且你通过命令 `./script.sh param1 param2` 运行它，那么 `$#` 的值将会是 `2`。

# `$0`

- `$0` 表示脚本本身的名称。通常它为脚本当前路径。例如，如果你在当前目录下执行 `./script.sh`，那么 `$0` 的值将会是 `./script.sh`。如果通过完整路径调用脚本，比如 `/home/user/script.sh`，那么 `$0` 将会是 `/home/user/script.sh`。

# `$1`、`$2`、`$3`...

- `$1` 是传递给脚本的第一个参数。
- `$2` 是传递给脚本的第二个参数。
- 以此类推，`$3`、`$4` 等变量代表后续的参数。

### 示例解释

```bash
if [ "$#" -ne 2 ]; then
  echo "Usage: $0 <directory_name> <number_of_files>"
  exit 1
fi

# 获取文件夹名称和文件数量参数
dir_name=$1
num_files=$2
```

- `if [ "$#" -ne 2 ]; then ... fi`：这个 `if` 语句检查传递给脚本的参数个数是否不等于 2。如果不是两个参数，它会打印使用方法（包括脚本名称和参数说明），然后退出脚本。
    
- `echo "Usage: $0 <directory_name> <number_of_files>"`：这里使用 `$0` 打印脚本的名称，告诉用户如何正确使用脚本。
    
- `dir_name=$1`：将第一个参数（文件夹名称）赋值给变量 `dir_name`。
    
- `num_files=$2`：将第二个参数（文件数量）赋值给变量 `num_files`。
    

### 使用场景

这种方式通常用于确保用户提供了正确数量的参数，以便脚本可以正常运行。如果参数不足或过多，脚本通常会打印一个错误消息并退出。

### 注意事项

- 脚本参数应该用双引号包围，特别是当参数可能为空或者包含空格时，这样可以防止脚本解释错误。
- 使用 `exit 1` 退出脚本表示有错误发生。`1` 是一个非零值，通常用来表示错误状态。